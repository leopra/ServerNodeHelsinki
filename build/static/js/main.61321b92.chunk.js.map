{"version":3,"sources":["components/Persons.js","components/Filter.js","components/PersonForm.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Contact","props","deleteContact","phone","number","name","onClick","id","window","confirm","Persons","persons","search","console","log","filter","pers","toLowerCase","includes","map","Filter","onChange","value","PersonForm","newName","newPhone","handleNameChange","handleTelChange","addContact","onSubmit","type","baseUrl","axios","get","then","response","data","newObject","post","delete","put","Notification","message","className","Error","App","useState","setPersons","setNewName","setNewPhone","setSearch","notification","setNotification","error","setError","useEffect","personServ","event","target","preventDefault","contact","some","el","oldContact","find","o","updated","notchangedpersons","p","updatedState","setTimeout","res","concat","catch","updatedPersons","ReactDOM","render","document","getElementById"],"mappings":"6KAEMA,EAAU,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,MAAOC,EAAoB,EAApBA,cAQhBC,EAAQF,EAAMG,QAAU,EAC9B,OAAQ,+BAAKH,EAAMI,KAAX,IAAkBF,EAAlB,IAAyB,wBAAQG,QAAS,kBAR3BC,EAQ+CN,EAAMM,GARlDF,EAQsDJ,EAAMI,UAP/EG,OAAOC,QAAP,iBAAyBJ,EAAzB,OACCH,EAAcK,IAFA,IAACA,EAAGF,GAQO,wBAUtBK,EAPC,SAAC,GAAwC,IAAtCC,EAAqC,EAArCA,QAASC,EAA4B,EAA5BA,OAAQV,EAAoB,EAApBA,cAEhC,OADAW,QAAQC,IAAIF,GACJ,6BACHD,EAAQI,QAAO,SAACC,GACb,OAAQA,EAAKX,KAAKY,cAAcC,SAASN,EAAOK,kBACjDE,KAAI,SAACH,GAAD,OAAU,cAAC,EAAD,CAAyBf,MAAOe,EAAMd,cAAeA,GAAvCc,EAAKX,YCR7Be,EATA,SAAC,GAA0B,IAAxBR,EAAuB,EAAvBA,OAAQS,EAAe,EAAfA,SACzB,OACC,8BACU,qDAAuB,uBAAOC,MAAOV,EAAQS,SAAUA,UCUpDE,EAbI,SAAC,GAAoE,IAAnEC,EAAkE,EAAlEA,QAAQC,EAA0D,EAA1DA,SAASC,EAAiD,EAAjDA,iBAAiBC,EAAgC,EAAhCA,gBAAgBC,EAAgB,EAAhBA,WACvE,OAAQ,uBAAMC,SAAUD,EAAhB,UACJ,yCACO,uBAAON,MAAOE,EAASH,SAAUK,OAExC,2CAAa,uBAAOJ,MAAOG,EAAUJ,SAAUM,OAE/C,8BACC,wBAAQG,KAAK,SAAb,uB,gBCRCC,EAAU,eAsBD,EApBA,WAEb,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAAA7B,GAEb,OADgByB,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BxB,KAS9B,EALA,SAACA,EAAI8B,GAElB,OADgBL,IAAMQ,IAAN,UAAaT,EAAb,YAAwBxB,GAAM8B,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SCT5BK,EAZM,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACpB,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KCKME,EAZD,SAAC,GAAiB,IAAfF,EAAc,EAAdA,QACb,OAAgB,OAAZA,EACK,KAIP,qBAAKC,UAAU,QAAf,SACGD,KCsGMG,EApGH,WAAO,IAAD,EACaC,mBAAS,IADtB,mBACVnC,EADU,KACDoC,EADC,OAEaD,mBAAS,IAFtB,mBAEVtB,EAFU,KAEDwB,EAFC,OAGeF,mBAAS,IAHxB,mBAGVrB,EAHU,KAGAwB,EAHA,OAIWH,mBAAS,IAJpB,mBAIVlC,EAJU,KAIFsC,EAJE,OAKuBJ,mBAAS,IALhC,mBAKVK,EALU,KAKIC,EALJ,OAMSN,mBAAS,IANlB,mBAMVO,EANU,KAMHC,EANG,KAkBjBC,qBARa,WACZC,IACEtB,MAAK,SAAAC,GACLtB,QAAQC,IAAI,qBACZiC,EAAWZ,QAIE,IAoEhB,OACC,gCACC,2CACA,cAAC,EAAD,CAAcO,QAASS,IACvB,cAAC,EAAD,CAAOT,QAASW,IAChB,cAAC,EAAD,CAAQ/B,MAAOV,EAAQS,SAvBE,SAACoC,GAC3BP,EAAUO,EAAMC,OAAOpC,UAuBtB,2CACA,cAAC,EAAD,CAAYE,QAASA,EAASC,SAAUA,EAAUC,iBAnC3B,SAAC+B,GACzBT,EAAWS,EAAMC,OAAOpC,QAkC+DK,gBA9BhE,SAAC8B,GACxBR,EAAYQ,EAAMC,OAAOpC,QA6BgGM,WAzEvG,SAAC6B,GACnBA,EAAME,iBACN,IAAMC,EAAU,CAAEvD,KAAMmB,EAASpB,OAAQqB,GAGzC,IAAc,IADAd,EAAQkD,MAAK,SAAAC,GAAE,OAAIA,EAAGzD,OAASmB,KACzB,CACnB,IAAMuC,EAAapD,EAAQqD,MAAK,SAAAC,GAAC,OAAIA,EAAE5D,OAASmB,KAChDhB,OAAOC,QAAP,UAAkBe,EAAlB,2EACAgC,EAAkBO,EAAWxD,GAAI,CAACF,KAAM0D,EAAW1D,KAAMD,OAAQqB,IAAYS,MAAK,SAAAgC,GACjFrD,QAAQC,IAAI,UAAWoD,GACvB,IAAIC,EAAoBxD,EAAQI,QAAO,SAAAqD,GAAC,OAAIA,EAAE7D,IAAM2D,EAAQ3D,MACxD8D,EAAY,sBAAOF,GAAP,CAA0BD,IAC1CnB,EAAWsB,GACXrB,EAAW,IACXC,EAAY,IACZG,EAAgB,uBAChBkB,YAAW,WACVlB,EAAgB,QACd,aAIJI,EAAkBI,GAAS1B,MAAK,SAACqC,GAChCnB,EAAgB,sBAAuBQ,GACvCb,EAAWpC,EAAQ6D,OAAOD,IAC1BD,YAAW,WACVlB,EAAgB,QACd,QACDqB,OAAM,SAAApB,GACRxC,QAAQC,IAAIuC,MAEbL,EAAW,IACXC,EAAY,OA0CZ,yCACA,cAAC,EAAD,CAAStC,QAASA,EAASC,OAAQA,EAAQV,cAvBvB,SAAAK,GACrBiD,EACSjD,GACP2B,MAAK,WACL,IAAMwC,EAAiB/D,EAAQI,QAAO,SAAAqD,GAAC,OAAIA,EAAE7D,KAAOA,KACpDwC,EAAW2B,MACTD,OAAM,WAAOnB,EAAS,uBACxBgB,YAAW,WACXhB,EAAS,QACP,e,MCpFNqB,IAASC,OAAO,cAAC,EAAD,IAASC,SAASC,eAAe,W","file":"static/js/main.61321b92.chunk.js","sourcesContent":["import React from 'react'\n\nconst Contact = ({ props, deleteContact }) => {\n    const confirmDelete = (id,name) => {\n        if(window.confirm(`Delete ${name}?`)) {\n            deleteContact(id);\n          }\n          return;\n    }\n\n    const phone = props.number || 0\n    return (<li>{props.name} {phone} <button onClick={() => confirmDelete(props.id, props.name)}>delete</button></li>)\n}\n\nconst Persons = ({ persons, search, deleteContact }) => {\n    console.log(search)\n    return (<ul>\n        {persons.filter((pers) => {\n            return (pers.name.toLowerCase().includes(search.toLowerCase()))\n        }).map((pers) => <Contact key={pers.name} props={pers} deleteContact={deleteContact}></Contact>)}</ul>)\n}\nexport default Persons\n","import React from 'react';\n\nconst Filter = ({ search, onChange }) => {\n\treturn (\n\t\t<div>\n            <div>filter shown with <input value={search} onChange={onChange} /></div>\n\n\t\t</div>\n\t);\n};\n\nexport default Filter","import React from 'react';\n\nconst PersonForm = ({newName,newPhone,handleNameChange,handleTelChange,addContact}) => {\nreturn (<form onSubmit={addContact}>\n\t\t\t\t<div>\n\t\t\t\t\tname: <input value={newName} onChange={handleNameChange} />\n\t\t\t\t</div>\n\t\t\t\t<div>number: <input value={newPhone} onChange={handleTelChange} /></div>\n\n\t\t\t\t<div>\n\t\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t\t</div>\n\t\t\t</form>)\n}\n\nexport default PersonForm","\nimport axios from 'axios';\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data);\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject);\n  return request.then(response => response.data)\n}\n\nconst remove = id => {\n  const request = axios.delete(`${baseUrl}/${id}`);\n  return request;\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject);\n  return request.then(response => response.data)\n}\n\nexport default {\n  getAll: getAll,\n  create: create,\n  remove: remove,\n  update: update\n}","const Notification = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"notif\">\n        {message}\n      </div>\n    )\n  }\n\nexport default Notification","const Error = ({ message }) => {\n    if (message === null) {\n      return null\n    }\n  \n    return (\n      <div className=\"error\">\n        {message}\n      </div>\n    )\n  }\n\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Persons'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport personServ from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newPhone, setNewPhone] = useState('')\n\tconst [search, setSearch] = useState('')\n\tconst [notification, setNotification] = useState('')\n\tconst [error, setError] = useState('')\n\n\n\n\tconst hook = () => {\n\t\tpersonServ.getAll()\n\t\t\t.then(response => {\n\t\t\t\tconsole.log('promise fulfilled')\n\t\t\t\tsetPersons(response)\n\t\t\t})\n\t}\n\n\tuseEffect(hook, [])\n\n\tconst addContact = (event) => {\n\t\tevent.preventDefault()\n\t\tconst contact = { name: newName, number: newPhone }\n\n\t\tconst found = persons.some(el => el.name === newName)\n\t\tif (found === true) {\n\t\t\tconst oldContact = persons.find(o => o.name === newName)\n\t\t\twindow.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\t\t\tpersonServ.update(oldContact.id, {name: oldContact.name, number: newPhone }).then(updated => {\n\t\t\t\tconsole.log('updated', updated)\n\t\t\t\tlet notchangedpersons = persons.filter(p => p.id != updated.id);\n\t\t\t\tlet updatedState = [...notchangedpersons, updated]\n\t\t\t\tsetPersons(updatedState)\n\t\t\t\tsetNewName('')\n\t\t\t\tsetNewPhone('')\n\t\t\t\tsetNotification('Operation completed')\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotification(null)\n\t\t\t\t}, 5000)\n\t\t\t})\n\t\t}\n\t\telse {\n\t\t\tpersonServ.create(contact).then((res) => {\n\t\t\t\tsetNotification('Operation completed', contact)\n\t\t\t\tsetPersons(persons.concat(res))\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetNotification(null)\n\t\t\t\t}, 5000)\n\t\t\t}).catch(error => {\n\t\t\t\tconsole.log(error);\n\t\t\t})\n\t\t\tsetNewName('')\n\t\t\tsetNewPhone('')\n\t\t}\n\n\t}\n\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\n\t}\n\n\tconst handleTelChange = (event) => {\n\t\tsetNewPhone(event.target.value)\n\n\t}\n\n\tconst handleSearchChange = (event) => {\n\t\tsetSearch(event.target.value)\n\t}\n\n\tconst deleteContact = id => {\n\t\tpersonServ\n\t\t\t.remove(id)\n\t\t\t.then(() => {\n\t\t\t\tconst updatedPersons = persons.filter(p => p.id !== id);\n\t\t\t\tsetPersons(updatedPersons);\n\t\t\t}).catch(() => {setError('error deleting user')\n\t\t\t\tsetTimeout(() => {\n\t\t\t\tsetError(null)\n\t\t\t}, 5000)})\n\t}\n\n\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={notification} />\n\t\t\t<Error message={error} />\n\t\t\t<Filter value={search} onChange={handleSearchChange} />\n\t\t\t<h2>Add a New</h2>\n\t\t\t<PersonForm newName={newName} newPhone={newPhone} handleNameChange={handleNameChange} handleTelChange={handleTelChange} addContact={addContact}></PersonForm>\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Persons persons={persons} search={search} deleteContact={deleteContact}></Persons>\n\t\t</div>\n\t)\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App'\nimport './index.css'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}